<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lab 1: Passing Pollinators</title>

  <!-- Observable Plot library -->
  <script type="module" src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.10/dist/plot.umd.min.js"></script>

  <!-- Optional: styling -->
  <style>
    body { font-family: sans-serif; margin: 20px; }
    .plot { margin-bottom: 40px; }
  </style>
</head>
<body>
  <h1>Lab 1: Passing Pollinators</h1>

  <!-- Dashboard containers -->
  <div id="plot1" class="plot"></div>
  <div id="plot2" class="plot"></div>
  <div id="plot3" class="plot"></div>

  <!-- Dashboard JS -->
  <script type="module">
    // Example data (replace with your CSV or JS data)
    const pollinator = [
      { avg_body_mass_g: 5, avg_wing_span_mm: 15, pollinator_species: "Bee", visit_count: 10, nectar_production: 20, weather_condition: "Sunny", flower_species: "Rose" },
      { avg_body_mass_g: 3, avg_wing_span_mm: 10, pollinator_species: "Butterfly", visit_count: 5, nectar_production: 15, weather_condition: "Cloudy", flower_species: "Tulip" }
    ];

    // #1 Body Mass vs Wing Span
    Plot.plot({
      title: "Body Mass vs Wing Span by Pollinator Species",
      height: 250,
      x: { label: "Average Body Mass (g)" },
      y: { label: "Average Wing Span (mm)" },
      color: { label: "Pollinator Species", legend: true },
      marks: [
        Plot.frame(),
        Plot.dot(pollinator, {
          x: "avg_body_mass_g",
          y: "avg_wing_span_mm",
          fill: "pollinator_species",
          r: 5
        })
      ],
      element: document.getElementById("plot1")
    });

    // #2 Average Visit Count by Weather
    Plot.plot({
      title: "Average Visit Count by Weather Condition",
      height: 250,
      x: { label: "Weather Condition" },
      y: { label: "Average Visit Count" },
      marks: [
        Plot.frame(),
        Plot.barY(
          pollinator,
          Plot.groupX(
            { y: "mean" },
            { x: "weather_condition", y: "visit_count", fill: "weather_condition" }
          )
        )
      ],
      element: document.getElementById("plot2")
    });

    // #3 Average Nectar Production by Flower Species
    Plot.plot({
      title: "Average Nectar Production by Flower Species",
      height: 250,
      x: { label: "Average Nectar Production (Î¼L)" },
      y: { label: "Flower Species" },
      marginLeft: 90,
      marks: [
        Plot.frame(),
        Plot.barX(
          pollinator,
          Plot.groupY(
            { x: "mean" },
            { x: "nectar_production", y: "flower_species", fill: "lightgreen" }
          )
        )
      ],
      element: document.getElementById("plot3")
    });
  </script>
</body>
</html>
